<!--
  @description       : 
  @author            : Valuehub
  @group             : 
  @last modified on  : 10-09-2023
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <div class="slds-p-around_large" style="background-color:white;">
              
        <div class="slds-grid slds-wrap " >
            
            <div class="slds-col slds-size_1-of-1" >
                <lightning-textarea name="NextStep" placeholder="Enter a Message" label="Generate Personalised Content for Emails" value={customField} onchange={customtext} ></lightning-textarea>
            </div>

            <div class="slds-col slds-size_6-of-12" >
                <!--<lightning-combobox name="Type" variant="label-hidden" label="Type" value={selected} options={type} onchange={handleSelectedChange} ></lightning-combobox>-->
                
            </div>
            <div class="slds-col slds-size_5-of-12 slds-p-left_medium slds-p-top_medium" >
                <lightning-button class="button"  label = "Generate" title = "Run ChatGPT"  onclick={handleNext}> </lightning-button><br/>    
            </div>
            <div class="slds-col slds-size_1-of-12 slds-p-left_medium slds-p-top_medium" >
                <template lwc:if={showTime}>
                    <div class="slds-align_absolute-center" style="left:50%;top:50%;"><lightning-formatted-text class="txt" value={timeVal} ></lightning-formatted-text></div>
                </template>
            </div>
        </div>
        <template lwc:if={track}>
            <div style="height: 200px; position:relative">
                <lightning-spinner variant="base" size="medium"></lightning-spinner>
              </div>
        </template> 
        <template lwc:if={errorMessage}>
            <div class="slds-grid slds-wrap" >
                <div class="slds-text-color_destructive">{errorMessage}</div>
            </div>
        </template>
        <div class="slds-grid slds-wrap" >
            <div class="slds-col slds-size_11-of-12" >  
                <br/> 
                <lightning-formatted-text value={message} ></lightning-formatted-text>
            </div>
            <div class="slds-col slds-size_1-of-12">
                <template lwc:if={message}>
                    <lightning-icon icon-name="utility:copy_to_clipboard" alternative-text="Connected" size="xx-small" 
                    title="Copy Clipboard" onclick={copyClipBoard} style="cursor: pointer;"> </lightning-icon>
                </template>
            </div>
        </div>
    </div>
</template>